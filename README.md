# 📊 재무 건전성 분석 시스템 (MySQL 파티셔닝 기반)

## 🧾 개요

본 프로젝트는 대용량 재무제표 데이터를 기반으로 **기업의 재무 건전성**을 분석하는 **데이터 엔지니어링 프로젝트**입니다.  
MySQL의 파티셔닝 기능을 적극 활용하여 **연도별·기업별 재무 분석의 성능을 극대화**하고, SQL 기반 지표 계산을 통해 다양한 **재무 위험 신호 및 성장 패턴을 정량적으로 추출**합니다.

---

## 🎯 프로젝트 목표

- 📥 대용량 CSV 재무 데이터를 MySQL RDB에 정제/적재
- 🔀 MySQL 파티셔닝을 통한 연도·기업 기준 데이터 분산 처리
- 📈 대표 재무 지표 산출: **안정성, 수익성, 성장성**
- 🔎 이상치 탐지 및 **위험 기업 식별**
- 📊 산업군·기업 간 재무 지표 비교 분석

---

## 🗂 데이터 구성

| 컬럼명 | 예시 | 설명 |
|--------|------|------|
| `재무제표종류` | 포괄손익계산서, 기타 - 연결 | 재무제표 유형 및 연결 여부 |
| `종목코드` | [138930] | 기업 고유 코드 (전처리 시 괄호 제거 및 정수형 변환 필요) |
| `회사명` | BNK금융지주 | 기업 이름 |
| `시장구분` | 유가증권시장상장법인 | 상장 시장 구분 |
| `업종명` | 기타 금융업 | 산업 분류 |
| `결산기준일` | 2024-12-31 | 재무 데이터 기준 일자 |
| `항목코드` | dart_XXXX / ifrs-full_XXXX | 항목 식별 코드 |
| `항목명` | 영업이익, 자본총계 등 | 재무 항목 설명 |
| `당기`, `전기`, `전전기` | 53,000,000,000 | 금액 (문자열 → 숫자 변환 필요) |

※ 일부 항목은 같은 의미라도 항목명이 달라질 수 있으므로 **동의어 처리 매핑 테이블** 적용 필요.

---

## 📐 분석 지표 정의

### 🛡 안정성

| 지표명 | 계산식 | 의미 |
|--------|--------|------|
| **부채비율** | 총부채 / 자본총계 × 100 | 낮을수록 안전 |
| **이자보상배율** | 영업이익 / 이자비용 | 1 미만일 경우 이자비용 부담 초과 위험 |

### 💰 수익성

| 지표명 | 계산식 | 의미 |
|--------|--------|------|
| **ROE** | 당기순이익 / 자본총계 × 100 | 주주 자본 대비 수익률 |
| **ROA** | 당기순이익 / 총자산 × 100 | 전체 자산 대비 수익률 |

### 📈 성장성

| 지표명 | 계산식 | 의미 |
|--------|--------|------|
| **영업이익 증가율** | (당기 - 전기) / 전기 × 100 | 본업 수익 성장률 |
| **당기순이익 증가율** | (당기 - 전기) / 전기 × 100 | 최종 수익 성장률 |

---

## 🧩 파티셔닝 전략

대용량 재무 데이터의 **성능 최적화** 및 **쿼리 효율성**을 위해 **다단계 파티셔닝**을 적용합니다:

```sql
CREATE TABLE finance_data_partitioned (
    회사명 VARCHAR(100),
    종목코드 VARCHAR(20),
    항목코드 VARCHAR(200),
    항목명 VARCHAR(150),
    결산기준일 DATE,
    금액 BIGINT
)
PARTITION BY RANGE (YEAR(결산기준일))
SUBPARTITION BY HASH (CAST(회사명 AS UNSIGNED))
SUBPARTITIONS 3 (
    PARTITION p2022 VALUES LESS THAN (2022),
    PARTITION p2023 VALUES LESS THAN (2023),
    PARTITION p2024 VALUES LESS THAN (2024),
    PARTITION pmax VALUES LESS THAN MAXVALUE
);
```
---

## ✅ 파티셔닝 효과
- 📆 연도별 전체 조회 쿼리 최적화

- 🏢 기업별 병렬 처리 분산

- 🧮 지표 계산 시 I/O 최소화 및 응답 시간 단축

🧪 예시 결과 활용
- ✅ ROE 상위 10대 금융사 도출

- ⚠️ 이자보상배율 1 미만 기업 탐지 → 고위험 기업

- 📉 순이익 급감 기업 추적 (우리금융지주 등 실사례 반영)

- 📊 업종별 평균 ROE 비교 (보험업 vs 증권업 등)
---

## 🛠 기술 스택
| 범주  | 도구                              |
| --- | ------------------------------- |
| 언어  | Python 3.11                     |
| 분석  | Pandas, SQLAlchemy              |
| DB  | MySQL 8.0 (파티셔닝 기능)             |
| 시각화 | Kibana (추후 Tableau 연계 가능)       |
| 환경  | Colab, VSCode, DBeaver (쿼리 테스트) |

---

🗞 참고 사례 기반 분석 (실제 기업 적용)
▶ 미래에셋증권
부채비율: 800% → 1100%

이자보상배율: 업계 평균 대비 급락 → 위험 감지

▶ 우리금융지주
순이익 감소: 전년 대비 -25%

ROE 하락, 비용 증가 → 건전성 경고

▶ NH농협손해보험
지급여력비율: 316% → 175%

이자비용 상승, 자본 확충 → 수익성 압박
